services:
  ca1:
    image: aktivehatexxx/quakelive:24.04
    restart: always
    ports:
      - '27960:27960/udp' # game port
      - '27960:27960/tcp' # stats port
      - '28960:28960' # rcon port
    environment:
      - NET_PORT=27960
      - ZMQ_RCON_PORT=27960
      - ZMQ_STATS_PORT=28960
      - 'SV_HOSTNAME=Standard CA #1'
      - SV_TAGS=ca std
      - SERVERSTARTUP=map thunderstruck stdca
      - SV_PRIVATEPASSWORD=198919891989
      - QLX_CONNECTMESSAGE=Test test test
      - QLX_SERVERBRANDNAME=Test
      - QLX_SERVERBRANDTOPFIELD=Test
      - QLX_OWNER=76561199059080531
      - QLX_ENFORCESTEAMNAME=0
      - COM_HUNKMEGS=256
      - COM_ZONEMEGS=512
    volumes:
      - './../../config/access.txt:/root/Steam/steamapps/common/qlds/baseq3/access.txt'
      - './../../config/autoexec/autoexec.cfg:/root/Steam/steamapps/common/qlds/baseq3/autoexec.cfg'
      - './../../config/server.cfg:/root/Steam/steamapps/common/qlds/baseq3/server.cfg'
      - './../../config/factories/ca/ca.factories:/root/Steam/steamapps/common/qlds/baseq3/scripts/ca.factories'
      - './../../config/mappools/ca/mappool.txt:/root/Steam/steamapps/common/qlds/baseq3/mappool.txt'
      - './../../config/minqlx-plugins/common:/root/Steam/steamapps/common/qlds/minqlx-plugins'
      - './../../config/workshop/ca/workshop.txt:/root/Steam/steamapps/common/qlds/baseq3/workshop.txt'
    depends_on:
      - redis